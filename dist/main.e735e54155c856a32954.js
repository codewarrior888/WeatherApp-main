(()=>{"use strict";var e,t,a,s={814:(e,t,a)=>{var s=a(848),n=a(338),r=a(540);const i=()=>(0,s.jsx)("header",{className:"header",children:(0,s.jsx)("h1",{children:"Weather App"})});var c=a(722),l=a(83);const o="https://openweathermap.org/img/wn/",d="d817eb92e29f03d98546e8a6515cf5e3";var m=function(e,t,a,s){return new(a||(a=Promise))((function(n,r){function i(e){try{l(s.next(e))}catch(e){r(e)}}function c(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,c)}l((s=s.apply(e,t||[])).next())}))};const h={control:e=>Object.assign(Object.assign({},e),{boxShadow:"none",padding:"0.2rem",fontSize:"12px"}),input:e=>Object.assign(Object.assign({},e),{fontSize:"18px"}),menu:e=>Object.assign(Object.assign({},e),{backgroundColor:"#f8f9fa"}),option:(e,t)=>Object.assign(Object.assign({},e),{padding:"0.5rem",backgroundColor:t.isSelected?"#007BFF":t.isFocused?"#6290cb":"#fff",color:t.isSelected||t.isFocused?"#fff":"#000"})},u=({onCitySelect:e})=>{const[t,a]=r.useState(null);return(0,s.jsx)(c.Wx,{placeholder:"Share your location or enter the city",value:t,debounceTimeout:500,onChange:t=>{if(t){const[a,s]=t.value.split(",").map(Number);e(a,s)}},loadOptions:e=>m(void 0,void 0,void 0,(function*(){if(!e)return{options:[]};try{const t=yield l.A.get(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=5&appid=${d}`);return{options:t.data.map((e=>({value:`${e.lat},${e.lon}`,label:`${e.name}, ${e.state?e.state+", ":""}${e.country}`})))}}catch(e){return{options:[]}}})),styles:h})},p=({data:e})=>(0,s.jsx)("div",{className:"current-weather",children:(0,s.jsxs)("div",{className:"info",children:[(0,s.jsxs)("p",{className:"city",children:[e.name,", ",e.sys.country]}),(0,s.jsxs)("p",{className:"temperature",children:[Math.round(e.main.temp),"°C"]}),(0,s.jsx)("p",{className:"weather-description",children:e.weather[0].description}),(0,s.jsx)("img",{className:"weather-icon",src:`${o}${e.weather[0].icon}@2x.png`,alt:"weather"}),(0,s.jsxs)("div",{className:"temp-range",children:[(0,s.jsxs)("div",{className:"min-temp",children:[(0,s.jsx)("p",{className:"current-label",children:"L:"}),(0,s.jsxs)("p",{className:"current-value",children:[Math.round(e.main.temp_min),"°C"]})]}),(0,s.jsxs)("div",{className:"max-temp",children:[(0,s.jsx)("p",{className:"current-label",children:"H:"}),(0,s.jsxs)("p",{className:"current-value",children:[Math.round(e.main.temp_max),"°C"]})]})]})]})}),f=({data:e})=>(0,s.jsx)("div",{className:"current-weather",children:(0,s.jsxs)("div",{className:"details",children:[(0,s.jsxs)("div",{className:"humidity",children:[(0,s.jsx)("p",{className:"details-label",children:"Humidity:"}),(0,s.jsxs)("p",{className:"details-value",children:[e.main.humidity,"%"]})]}),(0,s.jsxs)("div",{className:"wind",children:[(0,s.jsx)("p",{className:"details-label",children:"Wind:"}),(0,s.jsxs)("p",{className:"details-value",children:[e.wind.speed," m/s"]})]}),(0,s.jsxs)("div",{className:"feels",children:[(0,s.jsx)("p",{className:"details-label",children:"Feels like:"}),(0,s.jsxs)("p",{className:"details-value",children:[e.main.feels_like," m/s"]})]}),(0,s.jsxs)("div",{className:"pressure",children:[(0,s.jsx)("p",{className:"details-label",children:"Pressure:"}),(0,s.jsxs)("p",{className:"details-value",children:[e.main.pressure," hPa"]})]})]})}),j=({data:e})=>(0,s.jsxs)("div",{className:"forecast",children:[(0,s.jsx)("h2",{className:"forecast-title",children:"5-DAY FORECAST"}),e.list.filter(((e,t)=>t%8==0)).map((e=>(0,s.jsxs)("div",{className:"forecast-item",children:[(0,s.jsx)("div",{className:"forecast-date",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*e.dt).getDay()]}),(0,s.jsx)("div",{className:"forecast-icon",children:(0,s.jsx)("img",{src:`${o}${e.weather[0].icon}@2x.png`,alt:"weather"})}),(0,s.jsxs)("div",{className:"forecast-temperature",children:[(0,s.jsxs)("div",{className:"min-temp",children:[Math.round(e.main.temp_min),"°C"]}),(0,s.jsx)("div",{className:"temp-bar",children:(0,s.jsx)("div",{style:{width:10*(e.main.temp_max-e.main.temp_min)+"px"}})}),(0,s.jsxs)("div",{className:"max-temp",children:[Math.round(e.main.temp_max),"°C"]})]})]},e.dt)))]});var x=a(623);const v=({onLocationClick:e})=>(0,s.jsx)("button",{className:"location-button",onClick:e,children:(0,s.jsx)(x.h0T,{})}),g=({onRefreshClick:e})=>(0,s.jsx)("button",{className:"refresh-button",onClick:e,children:(0,s.jsx)(x.hy1,{})});var y=function(e,t,a,s){return new(a||(a=Promise))((function(n,r){function i(e){try{l(s.next(e))}catch(e){r(e)}}function c(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,c)}l((s=s.apply(e,t||[])).next())}))};const N=()=>{const[e,t]=r.useState(null),[a,n]=r.useState(null),c=(e,a)=>{const s=(new Date).getTime(),r=fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${a}&units=metric&appid=${d}`),i=fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${a}&units=metric&appid=${d}`);Promise.all([r,i]).then((e=>y(void 0,void 0,void 0,(function*(){const a=yield e[0].json(),r=yield e[1].json(),i=Object.assign({city:a.name},a),c=Object.assign({city:r.name},r);t(i),n(c),localStorage.setItem("currentWeather",JSON.stringify({data:i,timestamp:s})),localStorage.setItem("forecastWeather",JSON.stringify({data:c,timestamp:s}))})))).catch((e=>{}))};r.useEffect((()=>{const e=localStorage.getItem("currentWeather"),a=localStorage.getItem("forecastWeather"),s=36e5;if(e){const{data:a,timestamp:n}=JSON.parse(e);(new Date).getTime()-n<s&&t(a)}if(a){const{data:e,timestamp:t}=JSON.parse(a);(new Date).getTime()-t<s&&n(e)}}),[]);return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)(i,{})}),(0,s.jsxs)("div",{className:"top-row",children:[(0,s.jsx)("div",{className:"search-bar",children:(0,s.jsx)(u,{onCitySelect:c})}),(0,s.jsx)(v,{onLocationClick:()=>{navigator.geolocation.getCurrentPosition((e=>{const t=e.coords.latitude,a=e.coords.longitude;c(t,a)}),(()=>{alert("Please allow location access or enter your city manually.")}))}}),(0,s.jsx)(g,{onRefreshClick:()=>{const e=localStorage.getItem("currentWeather"),t=localStorage.getItem("forecastWeather");if(e&&t){const{data:{coord:{lat:t,lon:a}}}=JSON.parse(e);c(t,a)}}})]}),(0,s.jsx)("div",{className:"current-weather",children:e&&(0,s.jsx)(p,{data:e})}),(0,s.jsxs)("div",{className:"third-row",children:[(0,s.jsx)("div",{className:"left-column",children:a&&(0,s.jsx)(j,{data:a})}),(0,s.jsx)("div",{className:"right-column",children:e&&(0,s.jsx)(f,{data:e})})]})]})};n.createRoot(document.getElementById("root")).render((0,s.jsx)(N,{}))}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return s[e](a,a.exports,r),a.exports}r.m=s,e=[],r.O=(t,a,s,n)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,s,n]=e[d],c=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(c=!1,n<i&&(i=n));if(c){e.splice(d--,1);var o=s();void 0!==o&&(t=o)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,s,n]},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var n=Object.create(null);r.r(n);var i={};t=t||[null,a({}),a([]),a(a)];for(var c=2&s&&e;"object"==typeof c&&!~t.indexOf(c);c=a(c))Object.getOwnPropertyNames(c).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,r.d(n,i),n},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var s,n,[i,c,l]=a,o=0;if(i.some((t=>0!==e[t]))){for(s in c)r.o(c,s)&&(r.m[s]=c[s]);if(l)var d=l(r)}for(t&&t(a);o<i.length;o++)n=i[o],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},a=self.webpackChunkweatherapp_main=self.webpackChunkweatherapp_main||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=r.O(void 0,[493],(()=>r(814)));i=r.O(i)})();